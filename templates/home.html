{% extends "base_admin.html" %}

{% block title%} Aeroclube {% endblock title%}

{% block titulo %}Dashboard do {{pessoa_logada_cargo}}{% endblock %}
{% block subtitulo%}Bem vindo, {{pessoa_logada_nome}}{% endblock %}
{%block conteudo%}

{%if pessoa_logada_cargo == 'Administrador' %}
    <div class="content bg-white border-b">
        <div class="row">
            
            <div class="col-sm-6 col-lg-4">
                <a class="block block-rounded block-link-hover3 text-center" >
                    <div class="block-content block-content-full bg-success">
                        <div class="h1 font-w700 text-white"><span class="h2 text-white-op"></span> {{quantidade_alunos}}</div>
                        <div class="h5 text-white-op text-uppercase push-5-t">Quantidade de Alunos</div>
                    </div>
                
                </a>
            </div>
            <div class="col-sm-6 col-lg-4">
                <a class="block block-rounded block-link-hover3 text-center" >
                    <div class="block-content block-content-full bg-primary">
                        <div class="h1 font-w700 text-white">{{quantidade_decolagens_realizadas}}</div>
                        <div class="h5 text-white-op text-uppercase push-5-t">Voos e Aulas Realizados</div>
                    </div>
                    
                </a>
            </div>
            <div class="col-sm-6 col-lg-4">
                <a class="block block-rounded block-link-hover3 text-center" >
                    <div class="block-content block-content-full bg-warning">
                        <div class="h1 font-w700 text-white"><span class="h2 text-white-op"></span>{{media_aulas}}</div>
                        <div class="h5 text-white-op text-uppercase push-5-t">Média das aulas</div>
                        <!-- Um proximo passo seria fazer a media das ultimas X aulas -->
                    </div>
                   
                </a>
            </div>
            
        </div>
    </div>
    <!-- Page Content -->
    <div class="content">
        <div class="row">
            <div class="col-lg-8">
                <!-- Main Dashboard Chart -->
                <div class="block">
                    <div class="block-header">
                        <h3 class="block-title">Decolagens de hoje
                        </h3>
                    </div>
                    <div class="block-content">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th class="text-center">#</th>
                                    <th class="text-center" style="width: 50px;">Horário</th>
                                    <th style="width: 50px;">Duração</th>
                                    <th>Piloto</th>
                                    <th>Aluno</th>
                                    <th class="text-center">Tipo</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for k in range (0, decolagens_hoje|length ) %}
                                <tr>
                                <td class="text-center">{{k}}</td>
                                <td class="text-center">{{horarios_decolagens[k]}}</td>
                                <td class="text-center">{{decolagens_hoje[k].duracao}} h</td> 
                                <td>{{instrutores_decolagens[k]}}</td>
                                <td>{{alunos_decolagens[k]}}</td>

                                {%if tipo[k] == "Voo" %}
                                <td class="text-center" class="hidden-xs">
                                    <span class="label label-primary">Voo</span>
                                </td>
                                {%else%}
                                <td class="text-center" class="hidden-xs">
                                    <span class="label label-warning">Aula</span>
                                </td>
                                {%endif%}
                                </tr>
                                {%endfor%}
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- END Main Dashboard Chart -->
            </div>
            <div class="col-lg-4">
                <!-- Latest Sales Widget -->
                <div class="block">
                    <div class="block-header">
                        <h3 class="block-title">Alunos sem aulas agendadas</h3>
                    </div>
                    
                    <div class="block-content">
                        <div class="pull-t pull-r-l">
                            <!-- Slick slider (.js-slider class is initialized in App() -> uiHelperSlick()) -->
                            <!-- For more info and examples you can check out http://kenwheeler.github.io/slick/ -->
                            <div class="js-slider remove-margin-b" data-slider-autoplay="true" data-slider-autoplay-speed="2500">
                                <div>
                                    <table class="table remove-margin-b font-s13">
                                        <tbody>
                                            {% for aluno in alunos_nao_agendados %}
                                            <tr>
                                                <td class="font-w600">{{aluno.nome}}</td>
                                                <td class="hidden-xs text-muted text-center"></td>
                                            </tr>
                                            <!-- <td class="hidden-xs text-muted text-right">8:30</td> -->
                                            <!-- <td class="font-w600 text-success text-right">45 minutos</td> -->

                                            {% endfor %}

                                        </tbody>
                                    </table>
                                </div>
                                
                            </div>
                            <!-- END Slick slider -->
                        </div>
                    </div>
                </div>
                <!-- END Latest Sales Widget -->
            </div>
        </div>
    </div>
    <!-- END Page Content -->

{%endif%}

{% if pessoa_logada_cargo == 'Aluno' %}
    <div class="content bg-white border-b">
        <div class="row">
            <div class="col-sm-6 col-lg-4">
                <a class="block block-rounded block-link-hover3 text-center" href="javascript:void(0)">
                    <div class="block-content block-content-full bg-success">
                        <div class="h1 font-w700 text-white"> {{horas_voo}} <span class="h2 text-white-op">h</span></div>
                        <div class="h5 text-white-op text-uppercase push-5-t">Horas Acumuladas</div>
                    </div>
                   
                </a>
            </div>
            <div class="col-sm-6 col-lg-4">
                <a class="block block-rounded block-link-hover3 text-center" href="javascript:void(0)">
                    <div class="block-content block-content-full bg-primary">
                        <div class="h1 font-w700 text-white">{{nota_media}}</div>
                        <div class="h5 text-white-op text-uppercase push-5-t">Media das notas</div>
                    </div>
                    <div class="block-content block-content-full block-content-mini">
                        <i class="fa fa-clock-o "></i> 
                        {%if ultima_nota %}
                            Nota {{ultima_nota}} no ultimo voo 
                        {% else %}
                            Aguardando avaliação do último voo
                        {% endif %}
                    </div>
                </a>
            </div>
            <div class="col-sm-6 col-lg-4">
                <a class="block block-rounded block-link-hover3 text-center" href="javascript:void(0)">
                    <div class="block-content block-content-full bg-warning">
                        <div class="h1 font-w700 text-white"><span class="h2 text-white-op"></span> 150</div>
                        <div class="h5 text-white-op text-uppercase push-5-t">Minimo de horas</div>
                    </div>
                </a>
            </div>
            
        </div>
    </div>
    <!-- Page Content -->
    <div class="content">
        <div class="row">
            <div class="col-lg-8">
                <!-- Default Elements -->
                <div class="block">
                    <div class="block-header">
                       
                        <h3 class="block-title">Dados Cadastrais</h3>
                        <br>
                        <div class="form-group">
                            <div class="col-lg-8">
                                <label for="profile-email">Nome</label>
                                <input disabled class="form-control input-lg" type="email" id="profile-email" name="profile-email" placeholder="Enter your email.." value='{{pessoa_logada_nome}}'>
                            </div>
                        </div>
                        <div class="form-group">
                                <div class="col-xs-8">
                                    <label for="profile-email">CPF</label>
                                    <input disabled class="form-control input-lg" type="email" id="profile-email" name="profile-email" placeholder="Enter your email.." value='{{pessoa_logada_cpf}}'>
                                </div>
                            </div>
                        <div class="form-group">
                            <div class="col-xs-8">
                                <label for="profile-email">Email</label>
                                <input disabled class="form-control input-lg" type="email" id="profile-email" name="profile-email" placeholder="Enter your email.." value='{{pessoa_logada_email}}'>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-xs-8">
                                <label for="profile-email">Data de Nascimento</label>
                                <input disabled class="form-control input-lg" type="email" id="profile-email" name="profile-email" placeholder="Enter your email.." value='{{pessoa_logada_data_nascimento.strftime("%d/%m/%Y")}}'>
                            </div>
                        </div>
                    </div>
                    <br>
                </div>
                <!-- END Default Elements --> 
            </div>
            <div class="col-lg-4">
                <!-- Latest Sales Widget -->
                <div class="block">
                    <div class="block-header">
                      
                        <h3 class="block-title">Suas Aulas</h3>
                    </div>
                    
                    <div class="block-content">
                        <div class="pull-t pull-r-l">
                            <!-- Slick slider (.js-slider class is initialized in App() -> uiHelperSlick()) -->
                            <!-- For more info and examples you can check out http://kenwheeler.github.io/slick/ -->
                            <div class="js-slider remove-margin-b" data-slider-autoplay="true" data-slider-autoplay-speed="2500">
                                <div>
                                    <table class="table remove-margin-b font-s13">
                                        <tbody>
                                            <tr>
                                                <td class="font-w600">Data</td>
                                                <td class="hidden-xs text-muted text-right">Hora</td>
                                                <td class="font-w600 text-right">Duração</td>
                                                <td class="font-w600 text-success text-right">Avaliação</td>
                                            </tr>

                                            {% for aula in aulas_aluno %}
                                                <tr>
                                                    <td class="font-w600">{{aula.data.strftime('%d/%m/%Y')}}</td>
                                                    <td class="hidden-xs text-muted text-right">{{aula.data.strftime('%H:%M')}}</td>
                                                    <td class="font-w600 text-right">{{aula.duracao}} horas</td>
                                                    <td class="font-w600 text-success text-right">
                                                        {%if aula.nota %}
                                                            {{aula.nota}}
                                                        {% else %}
                                                            Aguardando
                                                        {% endif %}
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                
                            </div>
                            <!-- END Slick slider -->
                        </div>
                    </div>
                </div>
                <!-- END Latest Sales Widget -->
            </div>
        </div>
    </div>
    <!-- END Page Content -->
{% endif %}


{% if pessoa_logada_cargo == 'Piloto' %}

<div class="content bg-white border-b">
        <div class="row">
            
            <div class="col-sm-6 col-lg-6">
                <a class="block block-rounded block-link-hover3 text-center " >
                    <div class="block-content block-content-full bg-warning">
                        <div class="h1 font-w700 text-white">32<span class="h2 text-white-op"></span></div>
                        <div class="h5 text-white-op text-uppercase push-5-t">Horas voadas</div>
                    </div>
                
                </a>
            </div>
            <div class="col-sm-6 col-lg-6">
                <a class="block block-rounded block-link-hover3 text-center" >
                    <div class="block-content block-content-full bg-primary">
                        <div class="h1 font-w700 text-white">5</div>
                        <div class="h5 text-white-op text-uppercase push-5-t">Voos Realizados</div>
                    </div>
                    
                </a>
            </div>
            
            
        </div>
    </div>
    <!-- Page Content -->
    <div class="content">
        <div class="row">
            <div class="col-lg-8">
                <!-- Main Dashboard Chart -->
                <div class="block">
                    <div class="block-content">
                        <div class="content-grid push-20">
                            <div class="row margin-left:50%">
                                <div class="col-sm-6 col-lg-4">
                                    <a class="block block-link-hover3 text-center" href="{{ url_for('meuPerfil') }}">
                                        <div class="block-content block-content-full bg-danger">
                                            <i class="si si-music-tone fa-4x text-white"></i>
                                            <div class="font-w600 push-15-t text-white">Editar Perfil</div>
                                        </div>
                                    </a>
                                </div>
                                <div class="col-sm-6 col-lg-4">
                                    <a class="block block-link-hover3 text-center" href="{{ url_for('cadastrarVoo') }}">
                                        <div class="block-content block-content-full bg-success">
                                            <i class="si si-music-tone fa-4x text-white"></i>
                                            <div class="font-w600 push-15-t text-white">Agendar Voo</div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END Main Dashboard Chart -->
            </div>
            <div class="col-lg-4">
                <!-- Latest Sales Widget -->
                <div class="block">
                    <div class="block-header">
                        <h3 class="block-title">Historico de Voos</h3>
                    </div>
                    
                    <div class="block-content">
                        <div class="pull-t pull-r-l">
                            <!-- Slick slider (.js-slider class is initialized in App() -> uiHelperSlick()) -->
                            <!-- For more info and examples you can check out http://kenwheeler.github.io/slick/ -->
                            <div class="js-slider remove-margin-b" data-slider-autoplay="true" data-slider-autoplay-speed="2500">
                                <div>
                                    <table class="table remove-margin-b font-s13">
                                        <tbody>
                                            {% for aluno in alunos_nao_agendados %}
                                            <tr class='bg-success'></tr>>
                                                <td class="font-w600">{{aluno.nome}}</td>
                                                <td class="hidden-xs text-muted text-center"></td>
                                            </tr>
                                            <!-- <td class="hidden-xs text-muted text-right">8:30</td> -->
                                            <!-- <td class="font-w600 text-success text-right">45 minutos</td> -->

                                            {% endfor %}

                                        </tbody>
                                    </table>
                                </div>
                                
                            </div>
                            <!-- END Slick slider -->
                        </div>
                    </div>
                </div>
                <!-- END Latest Sales Widget -->
            </div>
        </div>
    </div>
    <!-- END Page Content -->

{%endif%}








{% endblock conteudo%}

